@import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap');

html, body, #root {
	margin: 0;
	padding: 0;
	height: 100%;
	width: 100%;
	background-color: #000000;
}

/* Light background for internal pages when enabled */
#root.internal-bg--light {
	background-color: #ffffff;
	background-image: url('/paper-tile.png');
	background-repeat: repeat;
	background-position: center center;
	background-size: calc(100vw / 3) calc(100vh / 3);
	/* Internal primary hue for light mode (peach) */
	--primary: 25 85% 70%;
}

/* Desktop: hide chopping board hero image in light mode */
#root.internal-bg--light .chopping-page-root .internal-hero { display: none !important; }

@media (max-width: 1024px) {
	#root.internal-bg--light {
		background-size: calc(100vw / 2) calc(100vh / 3);
	}
}

/* Header overlays hero */
.internal-top-header {
	position: absolute;
	top: 4px;
	left: 0;
	right: 0;
	height: 48px;
	background-color: #000000; /* black bars on the sides */
	z-index: 10;
}

/* Gradient bar constrained to the container width */
.internal-top-header-inner {
	height: 100%;
	background: #000000;
	border-bottom: none;
	display: flex;
	justify-content: space-between;
	align-items: center;
}

/* PWA/mobile: when on the chopping board page, hide black header backgrounds */
@media (max-width: 1024px) {
	/* If the page contains the chopping board root, make the header transparent */
	body:has(.chopping-page-root) .internal-top-header { background-color: transparent; }
	body:has(.chopping-page-root) .internal-top-header-inner { background: transparent; border-bottom: none; }
}

/* Left-side hamburger trigger: removed */

/* (removed) Hamburger styles */

/* Nav layout inside header */
.internal-nav {
	height: 100%;
	display: flex;
	align-items: flex-start;
	gap: 32px;
	padding: 0;
}

/* Text-only links with calligraphy styling */
.internal-nav-link {
	font-family: 'Nunito', 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
	font-size: 24px;
	font-weight: 400;
	letter-spacing: 0.5px;
	color: #ffffff;
	text-decoration: none;
	line-height: 1;
	display: inline-block;
	padding-top: 10px;
	transform-origin: center;
	transition: transform 160ms ease, text-shadow 160ms ease, opacity 160ms ease;
}

.internal-nav-link:hover,
.internal-nav-link:focus-visible {
	text-shadow: 0 0 6px rgba(255,255,255,0.85), 0 0 14px rgba(255,255,255,0.6);
	transform: scale(1.12);
}

/* Active page gets slightly larger and subtle glow by default */
.internal-nav-link.is-active,
.internal-nav-link[aria-current="page"] {
	text-shadow: 0 0 4px rgba(255,255,255,0.6);
	transform: scale(1.18);
}

/* Wrapper for right side to allow hiding on mobile */
.internal-user-indicator { display: flex; align-items: center; gap: 8px; }

/* Points badge next to user indicator (desktop only) */
.points-badge {
    margin-right: 8px;
    color: #ffffff;
    opacity: 0.9;
    font-family: 'Nunito', 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
    font-size: 16px;
    letter-spacing: 0.3px;
    white-space: nowrap;
    font-variant-numeric: tabular-nums;
}

.internal-container {
	max-width: 1440px;
	margin: 0 auto;
	padding: 0 16px;
	position: relative;
}

.internal-hero {
	width: 100%;
	background-color: #000000; /* black beyond the container */
}

.internal-hero-img {
	width: 100%;
	height: auto;
	display: block;
}

/* Profile Image Card - glass dark with 3D shadow */
.profile-image-card {
	/* clamp to scale from ~30vw at 1440px to ~90vw at 1024px */
	width: clamp(30vw, calc(-118vw + 2127px), 90vw);
	max-width: 1100px;
	/* lock visual proportions via aspect ratio while still bounding height */
	aspect-ratio: 4 / 3;
	min-height: 520px;
	max-height: 780px;
	background: rgba(18,18,18,0.6);
	color: #ffffff;
	border-radius: 16px;
	backdrop-filter: blur(10px) saturate(120%);
	-webkit-backdrop-filter: blur(10px) saturate(120%);
	box-shadow: 0 24px 60px rgba(0,0,0,0.6), 0 1px 0 rgba(255,255,255,0.05) inset;
	border: 1px solid rgba(255,255,255,0.08);
	padding: 12px;
}

.profile-image-card__content {
	display: grid;
	height: 100%;
	/* main area + two short rows (thumbs + videos) */
	grid-template-rows: 8fr 1fr 1fr;
	gap: 8px;
}

.profile-image-card__main {
	/* roughly top-left area with ~70% of the card height */
	height: 100%;
	position: relative;
	border-radius: 12px;
	overflow: hidden;
	border: 1px solid rgba(255,255,255,0.08);
	background: rgba(0,0,0,0.35);
	cursor: pointer;
}

.profile-image-card__img {
	width: 100%;
	height: 100%;
	object-fit: cover;
	display: block;
}

.profile-image-card__placeholder {
	width: 100%;
	height: 100%;
	display: flex;
	align-items: center;
	justify-content: center;
	color: rgba(255,255,255,0.75);
	font-size: 16px;
}
.profile-image-card__placeholder.small { font-size: 20px; }

.profile-image-card__label { font-size: 12px; opacity: 0.9; }
.profile-image-card__main .profile-image-card__label {
	position: absolute;
	left: 8px;
	bottom: 8px;
	background: rgba(0,0,0,0.35);
	border: 1px solid rgba(255,255,255,0.12);
	border-radius: 6px;
	padding: 4px 8px;
}

.profile-image-card__thumbs {
	display: grid;
	grid-template-columns: repeat(6, 1fr);
	gap: 8px;
	height: 100%;
	align-items: stretch;
}

/* New video row below thumbnails */
.profile-image-card__videos {
	display: grid;
	grid-template-columns: repeat(6, 1fr);
	gap: 8px;
	height: 100%;
	align-items: stretch;
}

.profile-image-card__video {
	border-radius: 8px;
	overflow: hidden;
	border: 1px solid rgba(255,255,255,0.08);
	background: rgba(0,0,0,0.35);
}

.profile-image-card__video-placeholder {
	width: 100%;
	height: 100%;
	display: flex;
	align-items: center;
	justify-content: center;
}

.profile-image-card__video-playplate {
	width: 36px;
	height: 36px;
	border-radius: 50%;
	background: rgba(255,255,255,0.12);
	border: 1px solid rgba(255,255,255,0.18);
	display: flex;
	align-items: center;
	justify-content: center;
}

.profile-image-card__video-overlay {
	position: absolute;
	inset: 0;
	display: flex;
	align-items: center;
	justify-content: center;
	pointer-events: none;
}

.profile-image-card__video-play {
	display: block;
	width: 0; height: 0;
	border-style: solid;
	border-width: 8px 0 8px 14px;
	border-color: transparent transparent transparent rgba(255,255,255,0.9);
	margin-left: 2px;
}

.profile-image-card__thumb {
	border-radius: 8px;
	overflow: hidden;
	border: 1px solid rgba(255,255,255,0.08);
	background: rgba(0,0,0,0.35);
	cursor: pointer;
}

.profile-image-card__thumb:focus-visible,
.profile-image-card__main:focus-visible {
	outline: 2px solid rgba(255,255,255,0.6);
	outline-offset: 2px;
}

/* Tabs for profile sections */
.profile-tabs__nav {
	display: flex;
	gap: 8px;
	margin: 0 0 8px 0;
}
.profile-tabs__btn {
	appearance: none;
	border: 1px solid rgba(255,255,255,0.12);
	background: rgba(0,0,0,0.35);
	color: #ffffff;
	border-radius: 10px;
	padding: 10px 14px;
	cursor: pointer;
	font-size: 14px;
	backdrop-filter: blur(10px) saturate(120%);
	-webkit-backdrop-filter: blur(10px) saturate(120%);
	box-shadow: 0 10px 24px rgba(0,0,0,0.4), 0 1px 0 rgba(255,255,255,0.05) inset;
}
.profile-tabs__btn.is-active { background: rgba(0,0,0,0.45); border-color: rgba(255,255,255,0.2); }
.profile-tabs__btn:focus-visible { outline: 2px solid rgba(255,255,255,0.6); outline-offset: 2px; }
.profile-tabs__content { display: block; }
.profile-tabs__content .is-hidden { display: none; }

/* Public profile panel (glass grey) */
.profile-public-panel {
	background: rgba(18,18,18,0.6);
	color: #ffffff;
	border-radius: 16px;
	backdrop-filter: blur(10px) saturate(120%);
	-webkit-backdrop-filter: blur(10px) saturate(120%);
	box-shadow: 0 24px 60px rgba(0,0,0,0.6), 0 1px 0 rgba(255,255,255,0.05) inset;
	border: 1px solid rgba(255,255,255,0.08);
	padding: 16px;
}

.profile-public-panel__header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	margin-bottom: 12px;
}

.profile-public-panel__title {
	display: flex;
	align-items: center;
	gap: 8px;
	font-size: 16px;
	font-weight: 600;
}

.profile-public-panel__right { display: contents; }

.profile-public-panel__actions {
	display: inline-flex;
	align-items: center;
	gap: 8px;
}

.profile-public-panel__save {
	appearance: none;
	border: 1px solid rgba(255,255,255,0.18);
	background: rgba(255,255,255,0.06);
	color: #ffffff;
	border-radius: 8px;
	padding: 8px 12px;
	cursor: pointer;
	font-size: 14px;
}
.profile-public-panel__save[disabled] { opacity: 0.6; cursor: default; }

/* Desktop slider theme toggle (visual only) */
.theme-toggle { appearance: none; background: transparent; border: none; padding: 0; display: inline-flex; align-items: center; cursor: pointer; }
.theme-toggle__switch {
	position: relative;
	width: 52px;
	height: 28px;
	border-radius: 16px;
	background: rgba(255,255,255,0.06);
	border: 1px solid rgba(255,255,255,0.18);
	box-shadow: 0 1px 0 rgba(255,255,255,0.05) inset;
}
.theme-toggle__thumb {
	position: absolute;
	top: 50%;
	left: 4px;
	transform: translateY(-50%);
	width: 18px;
	height: 18px;
	border-radius: 50%;
	background: rgba(255,255,255,0.85);
	box-shadow: 0 2px 6px rgba(0,0,0,0.4);
	transition: left 160ms ease;
}
.theme-toggle__switch.is-on .theme-toggle__thumb { left: 30px; }
.theme-toggle__icon { position: absolute; top: 50%; transform: translateY(-50%); opacity: 0.7; }
.theme-toggle__icon--sun { left: 8px; }
.theme-toggle__icon--moon { right: 8px; }

.profile-public-panel__inputs {
    display: grid;
    grid-template-columns: 1fr; /* stack rows by default */
    gap: 12px;
}

.profile-public-panel__field { display: flex; flex-direction: column; gap: 6px; }
.profile-public-panel__field--inline { flex-direction: row; align-items: center; gap: 8px; }
.profile-public-panel__field--inline .profile-public-panel__label { margin: 0; }
.profile-public-panel__field--display { grid-column: 1 / -1; }

/* Two-column row for age + height with label left, input right */
.profile-public-panel__row--two {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
}
.profile-public-panel__field--age,
.profile-public-panel__field--height { display: grid; grid-template-columns: 1fr auto; align-items: center; gap: 8px; }
.profile-public-panel__field--age .profile-public-panel__label,
.profile-public-panel__field--height .profile-public-panel__label { justify-self: start; }
.profile-public-panel__field--age .profile-public-panel__input,
.profile-public-panel__field--height .profile-public-panel__input { justify-self: end; }

/* Error styles for inputs/selects/textarea */
.profile-public-panel__input--error,
.profile-public-panel__textarea--error,
select.profile-public-panel__input.profile-public-panel__input--error {
    border: 1px solid rgba(255, 77, 77, 0.9) !important;
    box-shadow: 0 0 0 1px rgba(255, 77, 77, 0.4) inset;
}
.profile-public-panel__label--error { color: #ff6961; }
/* Remove ad-hoc left offset so Age aligns with Height */
.profile-public-panel__field--age { margin-left: 0; }
.profile-public-panel__label { font-size: 13px; opacity: 0.9; }
.profile-public-panel__input {
	background: rgba(0,0,0,0.35);
	border: 1px solid rgba(255,255,255,0.12);
	border-radius: 8px;
	padding: 10px 12px;
	color: #ffffff;
    font-size: 16px; /* prevent iOS zoom on focus */
}
.profile-public-panel__input--xs { width: 4ch; padding-left: 8px; padding-right: 8px; }
.profile-public-panel__input--wide { width: 100%; }

.profile-public-panel__status { margin-top: 10px; font-size: 13px; opacity: 0.8; }
.profile-public-panel__error { margin-top: 10px; color: #ff7070; font-size: 14px; }
.profile-public-panel__success { margin-top: 10px; color: #7dffa1; font-size: 14px; }

.profile-public-panel__bio { margin-top: 16px; display: grid; gap: 8px; }
.profile-public-panel__bio-header { font-size: 15px; font-weight: 600; opacity: 0.95; }
.profile-public-panel__textarea {
	background: rgba(0,0,0,0.35);
	border: 1px solid rgba(255,255,255,0.12);
	border-radius: 8px;
	padding: 10px 12px;
	color: #ffffff;
    font-size: 16px; /* prevent iOS zoom on focus */
	resize: vertical;
	min-height: 220px; /* ensure ~500 chars are fully visible by default */
}
.profile-public-panel__counter { font-size: 13px; opacity: 0.7; text-align: right; }

/* Modal variant: slightly larger base text for readability */
.profile-public-panel--modal .profile-public-panel__title { font-size: 18px; }
.profile-public-panel--modal .profile-public-panel__save { font-size: 15px; }
.profile-public-panel--modal .profile-public-panel__label { font-size: 14px; }
.profile-public-panel--modal .profile-public-panel__input { font-size: 16px; }
.profile-public-panel--modal .profile-public-panel__textarea { font-size: 16px; }
.profile-public-panel--modal .profile-public-panel__counter { font-size: 14px; }

/* Pulsing green glow behind Save button */
.profile-public-panel__save--glow {
    position: relative;
    z-index: 0;
}
.profile-public-panel__save--glow::before {
    content: '';
    position: absolute;
    inset: -14px; /* doubled footprint */
    border-radius: 18px;
    background: radial-gradient(70% 70% at 50% 50%, rgba(76,255,137,0.45), rgba(76,255,137,0) 75%);
    filter: blur(16px);
    z-index: -1;
    animation: profile-save-pulse 2s ease-in-out infinite;
}
@keyframes profile-save-pulse {
    0% { opacity: 0.35; transform: scale(0.95); }
    50% { opacity: 0.95; transform: scale(1.06); }
    100% { opacity: 0.35; transform: scale(0.95); }
}

/* IAM selection */
.profile-iam { margin-top: 16px; border: none; padding: 0; }
.profile-iam__legend { font-size: 14px; font-weight: 600; opacity: 0.95; margin-bottom: 8px; }
.profile-iam__grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 12px;
}
.profile-iam__option {
    appearance: none;
    border: 1px solid rgba(255,255,255,0.12);
    background: rgba(0,0,0,0.35);
    color: #ffffff;
    border-radius: 12px;
    padding: 16px 12px;
    cursor: pointer;
    text-align: center;
    backdrop-filter: blur(10px) saturate(120%);
    -webkit-backdrop-filter: blur(10px) saturate(120%);
    box-shadow: 0 10px 24px rgba(0,0,0,0.4), 0 1px 0 rgba(255,255,255,0.05) inset;
}
.profile-iam__option:focus-visible { outline: 2px solid rgba(255,255,255,0.6); outline-offset: 2px; }
.profile-iam__option.is-selected {
    border-color: rgba(76, 255, 137, 0.9);
    box-shadow: 0 0 0 2px rgba(76, 255, 137, 0.5), 0 0 18px rgba(76, 255, 137, 0.45);
}
.profile-iam__icon { display: block; font-size: 28px; line-height: 1; margin-bottom: 8px; }
.profile-iam__label { display: block; font-size: 13px; opacity: 0.95; }
.profile-iam__option--male .profile-iam__icon, .profile-iam__option--male .profile-iam__label { color: #5AA6FF; }
.profile-iam__option--female .profile-iam__icon, .profile-iam__option--female .profile-iam__label { color: #FF5ACD; }

/* Inline blue glow note for privacy/health info */
.profile-note--glow-blue {
    margin-top: 10px;
    margin-bottom: 6px;
    color: #9ecbff;
    font-size: 13px;
    line-height: 1.4;
    text-shadow: 0 0 6px rgba(80, 150, 255, 0.55), 0 0 12px rgba(80, 150, 255, 0.35);
}

/* Subscription Containers */
.subscription-grid {
	display: grid;
	grid-template-columns: 1fr;
	gap: 16px;
	max-width: 600px;
	margin: 0 auto;
}

/* Compact variant for embedding in modals (3 side-by-side paid tiers) */
.subscription-grid--compact {
	display: grid;
	grid-template-columns: repeat(3, 1fr);
	gap: 12px;
	max-width: none;
	margin: 0;
}

.subscription-container {
	background: rgba(18,18,18,0.6);
	color: #ffffff;
	border-radius: 16px;
	backdrop-filter: blur(10px) saturate(120%);
	-webkit-backdrop-filter: blur(10px) saturate(120%);
	box-shadow: 0 24px 60px rgba(0,0,0,0.6), 0 1px 0 rgba(255,255,255,0.05) inset;
	border: 1px solid rgba(255,255,255,0.08);
	padding: 20px;
	display: flex;
	flex-direction: column;
	align-items: center;
	position: relative;
	transition: all 0.3s ease;
}

.subscription-container--compact {
	border-radius: 12px;
	padding: 12px;
}

.subscription-container.is-selected {
	border-color: rgba(76, 255, 137, 0.9);
	box-shadow: 0 0 0 2px rgba(76, 255, 137, 0.5), 0 0 18px rgba(76, 255, 137, 0.45), 0 24px 60px rgba(0,0,0,0.6);
}

.subscription-content {
	display: flex;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	margin-bottom: 16px;
	flex-wrap: wrap;
	gap: 12px;
}

.subscription-number {
	font-size: 48px;
	font-weight: bold;
	color: #ffffff;
	line-height: 1;
	min-width: 60px;
	text-align: center;
}

.subscription-container--compact .subscription-number {
	font-size: 36px;
}

.subscription-text {
	flex: 1;
	font-size: 16px;
	text-align: center;
	color: rgba(255,255,255,0.9);
}

.subscription-price {
	font-size: 24px;
	font-weight: bold;
	min-width: 80px;
	text-align: right;
}

.subscription-container--compact .subscription-price {
	font-size: 18px;
	min-width: auto;
	text-align: center;
}

.subscription-free {
	color: #7dffa1;
	font-weight: bold;
}

.subscription-amount {
	color: #ffffff;
}

.subscription-button-container {
	width: 100%;
	display: flex;
	justify-content: flex-end;
}

.subscription-button {
	appearance: none;
	border: 1px solid rgba(255,255,255,0.18);
	background: rgba(255,255,255,0.06);
	color: #ffffff;
	border-radius: 8px;
	padding: 10px 16px;
	cursor: pointer;
	font-size: 14px;
	font-weight: 600;
	transition: all 0.2s ease;
	min-width: 100px;
}

.subscription-container--compact .subscription-button {
	padding: 8px 12px;
	min-width: 0;
}

.subscription-button:hover:not(:disabled) {
	background: rgba(255,255,255,0.12);
	border-color: rgba(255,255,255,0.3);
}

.subscription-button:disabled {
	opacity: 0.6;
	cursor: default;
	background: rgba(0,0,0,0.3);
}

.subscription-button:focus-visible {
	outline: 2px solid rgba(255,255,255,0.6);
	outline-offset: 2px;
}

/* Responsive adjustments */
@media (max-width: 1024px) {
    /* Hide desktop nav and right user button on tablet/mobile (PWA) */
    .internal-nav { display: none; }
    .internal-user-indicator { display: none; }
	.subscription-content {
		flex-direction: column;
		text-align: center;
		gap: 8px;
	}

	.subscription-number { font-size: 36px; }
	.subscription-price { font-size: 20px; text-align: center; min-width: auto; }
	.subscription-button-container { justify-content: center; }
	.subscription-grid--compact { grid-template-columns: 1fr; gap: 10px; }
}

/* ===== PWA BOTTOM NAV ===== */
.pwa-bottom-nav {
	position: fixed;
	left: 0;
	right: 0;
	bottom: 0;
	height: 60px;
	padding: 0 12px calc(env(safe-area-inset-bottom) + 0px);
	display: none;
	align-items: center;
	justify-content: space-between;
	background: rgba(18, 18, 18, 0.8);
	backdrop-filter: blur(12px) saturate(120%);
	-webkit-backdrop-filter: blur(12px) saturate(120%);
	border-top: 1px solid rgba(255,255,255,0.08);
	z-index: 1000;
}
.pwa-bottom-nav__group { display: flex; align-items: center; gap: 12px; }
.pwa-bottom-nav__btn {
	appearance: none;
	background: transparent;
	border: none;
	color: rgba(255,255,255,0.9);
	width: 44px;
	height: 44px;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	border-radius: 10px;
}
.pwa-bottom-nav__btn.is-active { color: #22c55e; }
.pwa-bottom-nav__btn:focus-visible { outline: 2px solid rgba(255,255,255,0.6); outline-offset: 2px; }
.pwa-bottom-nav__icon-stack { position: relative; display: inline-flex; }
.pwa-bottom-nav__icon-plus { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -56%); }
.pwa-bottom-nav__value { min-width: 44px; text-align: right; font-variant-numeric: tabular-nums; color: #ffffff; }

/* content padding to avoid overlap with bottom nav on mobile */
.with-bottom-nav { padding-bottom: 0; }

@media (max-width: 1024px) {
	.pwa-bottom-nav { display: flex; }
	.with-bottom-nav { padding-bottom: calc(60px + env(safe-area-inset-bottom)); }
}

/* ===== USER INDICATOR STYLES ===== */

/* User indicator container - handles positioning */
.user-indicator-container {
	position: relative;
}

/* Main user indicator - avatar + name + chevron */
.user-indicator {
	display: flex;
	align-items: center;
	gap: 8px;
	cursor: pointer;
	padding: 6px 12px;
	border-radius: 8px;
	transition: background-color 160ms ease, transform 160ms ease;
	user-select: none;
}

.user-indicator:hover {
	background-color: rgba(255, 255, 255, 0.05);
	transform: translateY(-1px);
}

.user-indicator:active {
	transform: translateY(0);
}

.user-indicator--active {
	background-color: rgba(255, 255, 255, 0.08);
}

.user-indicator--loading {
	opacity: 0.7;
	cursor: default;
}

.user-indicator--loading:hover {
	background-color: transparent;
	transform: none;
}

/* User avatar - silhouette image */
.user-avatar {
	width: 32px;
	height: 32px;
	border-radius: 50%;
	border: 1px solid rgba(255, 255, 255, 0.1);
	background-color: rgba(255, 255, 255, 0.05);
	flex-shrink: 0;
}

/* User name text */
.user-name {
	font-family: 'Nunito', 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
	font-size: 18px;
	font-weight: 400;
	letter-spacing: 0.3px;
	line-height: 1;
	white-space: nowrap;
}

/* Authenticated user name - white */
.user-name--authenticated {
	color: #ffffff;
}

/* Unauthenticated user name - red */
.user-name--unauthenticated {
	color: #ff4444;
	font-weight: 500;
}

/* Dropdown chevron icon */
.dropdown-chevron {
	color: rgba(255, 255, 255, 0.7);
	transition: transform 160ms ease, color 160ms ease;
	flex-shrink: 0;
}

.dropdown-chevron--open {
	transform: rotate(180deg);
	color: #ffffff;
}

/* ===== USER DROPDOWN STYLES ===== */

/* Dropdown container */
.user-dropdown {
	position: absolute;
	top: 100%;
	right: 0;
	margin-top: 8px;
	z-index: 1000;
	animation: dropdownFadeIn 200ms ease-out;
}

@keyframes dropdownFadeIn {
	from {
		opacity: 0;
		transform: translateY(-8px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

/* Dropdown content - glass morphism dark theme */
.user-dropdown__content {
	min-width: 160px;
	background: rgba(18, 18, 18, 0.95);
	backdrop-filter: blur(12px) saturate(120%);
	-webkit-backdrop-filter: blur(12px) saturate(120%);
	border-radius: 12px;
	border: 1px solid rgba(255, 255, 255, 0.08);
	box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6), 0 1px 0 rgba(255, 255, 255, 0.05) inset;
	padding: 8px;
	overflow: hidden;
}

/* Dropdown menu items */
.user-dropdown__item {
	width: 100%;
	padding: 12px 16px;
	border: none;
	background: transparent;
	color: #ffffff;
	font-family: 'Nunito', 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
	font-size: 16px;
	font-weight: 400;
	letter-spacing: 0.3px;
	text-align: left;
	cursor: pointer;
	border-radius: 8px;
	transition: background-color 160ms ease, color 160ms ease, transform 160ms ease;
	display: flex;
	align-items: center;
}

.user-dropdown__item:hover {
	background-color: rgba(255, 255, 255, 0.08);
	transform: translateX(2px);
}

.user-dropdown__item:active {
	background-color: rgba(255, 255, 255, 0.12);
	transform: translateX(1px);
}

/* Special styling for logout button */
.user-dropdown__item--logout:hover {
	background-color: rgba(255, 68, 68, 0.15);
	color: #ff6b6b;
}

/* Special styling for login button */
.user-dropdown__item--login {
	color: #4ade80;
}

.user-dropdown__item--login:hover {
	background-color: rgba(74, 222, 128, 0.15);
	color: #6ee7b7;
}

/* Dropdown item text */
.user-dropdown__item-text {
	flex: 1;
}

/* Dropdown divider */
.user-dropdown__divider {
	height: 1px;
	background: rgba(255, 255, 255, 0.08);
	margin: 4px 8px;
}

/* Mobile menu removed */

/* ===== STATUS BAR ===== */
.status-bar {
	background: rgba(0,0,0,0.75);
	border: 1px solid rgba(76, 255, 137, 0.9);
	box-shadow: 0 0 0 2px rgba(76, 255, 137, 0.5), 0 0 18px rgba(76, 255, 137, 0.35);
	border-radius: 12px;
	width: clamp(200px, 28vw, 560px);
	color: #ffffff;
	backdrop-filter: blur(6px) saturate(120%);
	-webkit-backdrop-filter: blur(6px) saturate(120%);
}

.status-bar__inner {
	display: grid;
	grid-template-columns: 1fr auto;
	align-items: center;
	gap: 16px;
	padding: 10px 14px;
}

.status-bar__legend {
	display: grid;
	grid-auto-flow: column;
	justify-content: start;
	align-items: end;
	gap: 18px;
}

.status-bar__legend-item { display: grid; justify-items: center; gap: 4px; }
.status-bar__legend-text { font-size: 11px; opacity: 0.75; }

.status-bar__dot {
	width: 12px;
	height: 12px;
	border-radius: 50%;
	background: transparent;
	position: relative;
}
.status-bar__dot::before {
	content: '';
	position: absolute;
	top: 50%; left: 50%; transform: translate(-50%, -50%);
	width: 10px; height: 10px; border-radius: 50%;
	background: rgba(255,255,255,0.06);
	border: 1px solid rgba(255,255,255,0.12);
}
.status-bar__dot--green { box-shadow: 0 0 14px 6px rgba(34,197,94,0.45); }
.status-bar__dot--yellow { box-shadow: 0 0 14px 6px rgba(234,179,8,0.45); }
.status-bar__dot--red { box-shadow: 0 0 14px 6px rgba(239,68,68,0.45); }

.status-bar__counters { display: grid; grid-auto-flow: column; align-items: center; gap: 18px; }

.status-bar__counter { display: grid; justify-items: center; gap: 2px; min-width: 64px; position: relative; }
.status-bar__label { display: none; }
.status-bar__icon { line-height: 1; opacity: 0.95; }
.status-bar__value { font-size: 14px; font-weight: 800; letter-spacing: 0.4px; }

.status-bar__tooltip {
	position: absolute;
	left: 50%; transform: translateX(-50%);
	width: clamp(320px, 42vw, 520px);
	background: rgba(10,10,10,0.9);
	color: #ffffff;
	border: 1px solid rgba(255,255,255,0.12);
	border-radius: 8px;
	padding: 10px 12px;
	font-size: 13px;
	line-height: 1.45;
	text-align: left;
	white-space: normal;
	overflow-wrap: anywhere;
	box-shadow: 0 8px 24px rgba(0,0,0,0.5);
	opacity: 0; pointer-events: none; transition: opacity 120ms ease;
}
.status-bar__tooltip--below { top: calc(100% + 8px); }
.status-bar__tooltip:not(.status-bar__tooltip--below) { bottom: calc(100% + 8px); }
.status-bar__counter:hover .status-bar__tooltip,
.status-bar__counter:focus-within .status-bar__tooltip { opacity: 1; }

/* Small desktop tightening and centering */
@media (max-width: 1280px) {
	.status-bar {
		width: clamp(260px, 40vw, 560px);
	}
	.status-bar__inner {
		grid-template-columns: auto auto;
		justify-content: center;
		gap: 12px;
		padding: 8px 10px;
	}
	.status-bar__legend {
		gap: 12px;
	}
	.status-bar__counters {
		gap: 10px;
	}
	.status-bar__counter {
		min-width: 48px;
	}
}

/* Tablet/very small desktop: stack and center */
@media (max-width: 1024px) {
	.status-bar__inner {
		grid-template-columns: 1fr;
		justify-items: center;
		row-gap: 8px;
	}
	.status-bar__legend,
	.status-bar__counters {
		justify-content: center;
		justify-items: center;
	}
}

/* Light mode: frosted white StatusBar across desktop and PWA on chopping board */
#root.internal-bg--light .chopping-page-root .status-bar {
	background: rgba(255,255,255,0.72);
	color: #111111;
	border: 1px solid rgba(0,0,0,0.1);
	box-shadow: 0 8px 24px rgba(0,0,0,0.12);
}
#root.internal-bg--light .chopping-page-root .status-bar__legend-text,
#root.internal-bg--light .chopping-page-root .status-bar__value {
	color: #111111;
}
#root.internal-bg--light .chopping-page-root .status-bar .status-bar__tooltip {
	background: rgba(255,255,255,0.98);
	color: #111111;
	border: 1px solid rgba(0,0,0,0.08);
	box-shadow: 0 8px 24px rgba(0,0,0,0.08);
}
#root.internal-bg--light .chopping-page-root .status-bar .status-bar__icon {
	color: #111111;
}

/* PWA/mobile header: apply same frosted white styling when StatusBar is rendered in TopHeader */
@media (max-width: 1024px) {
	#root.internal-bg--light .internal-top-header .status-bar {
		background: rgba(255,255,255,0.72);
		color: #111111;
		border: 1px solid rgba(0,0,0,0.1);
		box-shadow: 0 8px 24px rgba(0,0,0,0.12);
	}
	#root.internal-bg--light .internal-top-header .status-bar__legend-text,
	#root.internal-bg--light .internal-top-header .status-bar__value {
		color: #111111;
	}
	#root.internal-bg--light .internal-top-header .status-bar .status-bar__tooltip {
		background: rgba(255,255,255,0.98);
		color: #111111;
		border: 1px solid rgba(0,0,0,0.08);
		box-shadow: 0 8px 24px rgba(0,0,0,0.08);
	}
	#root.internal-bg--light .internal-top-header .status-bar .status-bar__icon {
		color: #111111;
	}
}

/* Light mode: ensure header variant also picks up frosted white anywhere */
#root.internal-bg--light .status-bar--header {
	background: rgba(255,255,255,0.72);
	color: #111111;
	border: 1px solid rgba(0,0,0,0.1);
	box-shadow: 0 8px 24px rgba(0,0,0,0.12);
}
#root.internal-bg--light .status-bar--header .status-bar__legend-text,
#root.internal-bg--light .status-bar--header .status-bar__value { color: #111111; }
#root.internal-bg--light .status-bar--header .status-bar__tooltip {
	background: rgba(255,255,255,0.98);
	color: #111111;
	border: 1px solid rgba(0,0,0,0.08);
	box-shadow: 0 8px 24px rgba(0,0,0,0.08);
}
#root.internal-bg--light .status-bar--header .status-bar__icon { color: #111111; }

/* Compact single-row header variant */

.status-bar--header {
	width: 99%;
	border-radius: 10px;
	border-width: 1px;
}
.status-bar--header .status-bar__inner {
	display: grid;
	grid-template-columns: auto 1fr;
	align-items: center;
	gap: 12px;
	padding: 6px 10px;
}
.status-bar--header .status-bar__legend { gap: 10px; }
.status-bar--header .status-bar__legend-text { font-size: 10px; }
.status-bar--header .status-bar__counters { gap: 12px; }
.status-bar--header .status-bar__value { font-size: 13px; }

@media (max-width: 1024px) {
	.status-bar--header .status-bar__inner { grid-template-columns: 1fr auto; }
}

/* ===== PROFILE PAGE: MOBILE EDGE-TO-EDGE (â‰¤768px) ===== */
@media (max-width: 768px) {
	html, body { overflow-x: clip; overscroll-behavior-x: none; }
	/* Allow modals to scroll under fixed tabs */
	body { overscroll-behavior-y: contain; }

	/* Guard against any residual horizontal scroll on profile route */
	.profile-page-root { overflow-x: hidden; }

    /* Remove the default header on mobile and use tabs instead (profile page only) */
    .profile-page-root .internal-top-header { display: none; }

	/* Remove container gutters and any max-width clamping for the profile page */
    .profile-page-root.internal-container,
    .chopping-page-root.internal-container {
		max-width: none;
		margin-left: 0;
		margin-right: 0;
		padding-left: 0;
		padding-right: 0;
		touch-action: pan-y;
	}

    /* Hide chopping board hero on mobile */
    .profile-page-root .internal-hero { display: none; }
    .chopping-page-root .internal-hero { display: none; }

	/* Make overlay participate in normal flow to eliminate top gap */
	.profile-page-root .profile-page__overlay {
		position: static !important;
		display: block;
	}

	/* Tabs bar fixed at the very top on mobile */
	.profile-page-root .profile-tabs__nav {
		position: fixed;
		top: 0;
		left: 0;
		right: 0;
		z-index: 1000;
		display: flex;
		gap: 8px;
		margin: 0;
		padding: calc(env(safe-area-inset-top) + 6px) 12px 6px 12px;
		background: rgba(0,0,0,0.9);
		backdrop-filter: blur(6px) saturate(120%);
		-webkit-backdrop-filter: blur(6px) saturate(120%);
		border-bottom: 1px solid rgba(255,255,255,0.08);
	}

	/* Light mode (PWA) overrides for profile header and tabs */
	#root.internal-bg--light .profile-page-root .profile-tabs__nav {
		background: #ffffff;
		border-bottom: 1px solid rgba(0,0,0,0.08);
	}

	#root.internal-bg--light .profile-page-root .profile-tabs__btn {
		background: hsl(var(--primary));
		color: #ffffff;
		border-color: transparent;
	}

	#root.internal-bg--light .profile-page-root .profile-tabs__btn.is-active {
		background: hsl(var(--primary));
		border-color: transparent;
	}

	/* Add top spacer so content doesn't hide under fixed tabs */
	.profile-page-root .profile-page__content { width: 99% !important; max-width: none !important; margin-left: auto; margin-right: auto; box-sizing: border-box; padding-top: calc(44px + env(safe-area-inset-top)); }
	/* Ensure the image card has enough vertical space to show 16:9 + two 80px rows */
	.profile-page-root .profile-page__content { min-height: calc( (100vw * (9 / 16)) + 8px + 80px + 8px + 80px ); }

	/* Make the primary card span width, normalize to wide image */
	.profile-page-root .profile-image-card {
		width: 99%;
		max-width: none;
		min-height: auto;
		max-height: none;
		border-radius: 0;
		margin-left: auto;
		margin-right: auto;
		box-sizing: border-box;
		overflow: visible;
		aspect-ratio: auto !important;
		/* Height = 16:9 of viewport width + gaps (8+8) + two 80px rows + card padding (12+12) */
		height: calc((100vw * 9 / 16) + 176px + 24px);
	}

	/* Inside the image card, ensure two rows of 6 are fully visible (no scroll) */
	.profile-page-root .profile-image-card__content { grid-template-rows: auto 80px 80px; height: auto; overflow: visible; }
	.profile-page-root .profile-image-card__main { height: auto; min-height: 0; aspect-ratio: 16 / 9; overflow: hidden; }
	.profile-page-root .profile-image-card__thumbs,
	.profile-page-root .profile-image-card__videos { display: grid !important; height: 80px; min-height: 80px; margin-top: 8px; grid-template-columns: repeat(6, minmax(0, 1fr)); gap: 8px; }
	/* Tiles fill the fixed row height */
	.profile-page-root .profile-image-card__thumb,
	.profile-page-root .profile-image-card__video { height: 100%; aspect-ratio: auto; }

	/* Guard against subpixel overflow on image container */
	.profile-page-root .profile-page__content,
	.profile-page-root .profile-image-card,
	.profile-page-root .profile-image-card__content { overflow-x: hidden; }

	/* Ensure content not padded by bottom nav here (page already accounts for it) */
	.profile-page-root .profile-image-card { margin-bottom: 0; }

	/* Ensure inner grids cannot exceed container width */
	.profile-page-root .profile-image-card__thumbs,
	.profile-page-root .profile-image-card__videos { width: 100%; box-sizing: border-box; }

	/* Prevent grid items from imposing min-content width */
	.profile-page-root .profile-image-card__thumb,
	.profile-page-root .profile-image-card__video { min-width: 0; }

	/* Panels flush to edges */
	.profile-page-root .profile-public-panel { border-radius: 0; padding-left: 0; padding-right: 0; }

	/* Media should never overflow */
	.profile-page-root img,
	.profile-page-root video,
	.profile-page-root canvas { max-width: 100%; height: auto; }

	/* Ensure grid tile images fill tiles uniformly (override generic rule above) */
	.profile-page-root .profile-image-card__img { width: 100%; height: 100% !important; object-fit: cover; object-position: center; display: block; }

/* Mobile: keep display name full row; age + height as two columns */
.profile-page-root .profile-public-panel__inputs { grid-template-columns: 1fr; }
	.profile-page-root .profile-iam__grid { grid-template-columns: repeat(2, 1fr); }
}